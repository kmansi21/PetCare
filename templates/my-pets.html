<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>My Pets - PetCare</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet"/>

<style>
body{
    margin:0;
    font-family: "Segoe UI", sans-serif;
    background:#f4f7fb;
}

.wrapper{
    display:flex;
    min-height:100vh;
}

/* Sidebar */
.sidebar{
    width:240px;
    background:linear-gradient(180deg,#1f3a5f,#162c46);
    color:white;
    padding:25px 15px;
    transition:0.3s ease;
}

.sidebar a{
    display:flex;
    align-items:center;
    gap:10px;
    color:white;
    text-decoration:none;
    padding:12px 15px;
    border-radius:8px;
    margin-bottom:10px;
}

.sidebar a:hover{
    background:rgba(255,255,255,0.1);
}

/* Main */
.main-content{
    flex:1;
    padding:30px 40px;
}

/* Header */
.page-header{
    display:flex;
    align-items:center;
    gap:15px;
    margin-bottom:25px;
}

.menu-btn{
    display:none;
    font-size:1.8rem;
    cursor:pointer;
    color:#1f3a5f;
}

.page-header h2{
    color:#1f3a5f;
    font-weight:600;
    margin:0;
}

/* Grid */
.pet-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
    gap:30px;
}

/* Card */
.pet-card{
    background:white;
    border-radius:20px;
    overflow:hidden;
    box-shadow:0 12px 30px rgba(0,0,0,0.08);
    transition:0.3s;
}

.pet-card:hover{
    transform:translateY(-6px);
    box-shadow:0 18px 35px rgba(0,0,0,0.15);
}

.pet-img{
    width:100%;
    height:240px;
    object-fit:cover;
}

.pet-info{
    padding:18px 22px;
    font-size:0.95rem;
}

.pet-info h5{
    color:#1f3a5f;
    font-weight:600;
    margin-bottom:12px;
    text-align:center;
    font-size:1.5rem;
}

.info-row{
    margin:6px 0;
    display:flex;
    flex-wrap:wrap;
}

.info-label{
    width:110px;
    font-weight:600;
    color:#1f3a5f;
}

.info-value{
    flex:1;
    color:#000;
}

/* Footer */
.footer{
    margin-top:40px;
    text-align:center;
    color:#777;
}

/* Overlay */
.overlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.4);
    z-index:999;
}

/* MOBILE */
@media (max-width:991px){

    .wrapper{
        flex-direction:column;
    }

    .sidebar{
        position:fixed;
        left:-240px;
        top:0;
        height:100%;
        z-index:1000;
    }

    .sidebar.active{
        left:0;
    }

    .overlay.active{
        display:block;
    }

    .menu-btn{
        display:block;
    }

    .main-content{
        padding:20px;
    }

    .pet-grid{
        grid-template-columns:1fr;
    }
}
</style>
</head>

<body>

<div class="wrapper">

    <!-- Sidebar -->
    <div class="sidebar">

        <div class="d-flex justify-content-between align-items-center mb-4">
          <h4 class="mb-0">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" class="bi" viewBox="0 0 16 16">
        <path d="M8 0C6.343 0 5 1.343 5 3s1.343 3 3 3 3-1.343 3-3S9.657 0 8 0zM2.5 2C1.672 2 1 2.672 1 3.5S1.672 5 2.5 5 4 4.328 4 3.5 3.328 2 2.5 2zM13.5 2c-.828 0-1.5.672-1.5 1.5S12.672 5 13.5 5 15 4.328 15 3.5 14.328 2 13.5 2zM3 8c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm10 0c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm-5 2c-1.105 0-2 .895-2 2v1h4v-1c0-1.105-.895-2-2-2z"/>
      </svg> PetCare
    </h4>
            <!-- Close button mobile -->
            <button class="btn text-white d-lg-none" onclick="toggleSidebar()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>

        <a href="/providerDashboard/" onclick="toggleSidebar()">
            <i class="bi bi-speedometer2"></i> Dashboard
        </a>
        <a href="/add-pet/" onclick="toggleSidebar()">
            <i class="bi bi-plus-circle"></i> Add Pet
        </a>
        <a href="/my-pets/" onclick="toggleSidebar()">
            <i class="bi bi-heart"></i> My Pets
        </a>
        <a href="/profile_provider/" onclick="toggleSidebar()">
            <i class="bi bi-person"></i> My Profile
        </a>
        <a href="/logout/">
            <i class="bi bi-box-arrow-right"></i> Logout
        </a>
    </div>

    <!-- Main -->
    <div class="main-content">

        <!-- Header -->
        <div class="page-header">
            <span class="menu-btn" onclick="toggleSidebar()">
                <i class="bi bi-list"></i>
            </span>
            <h2>My Pets</h2>
        </div>

        <div class="pet-grid">
        {% for pet in pets %}
            <div class="pet-card">

                {% if pet.photo %}
                <img src="{{ pet.photo }}" class="pet-img" alt="{{ pet.name }}">
                {% else %}
                <img src="/static/default_pet.jpg" class="pet-img">
                {% endif %}

                <div class="pet-info">
                    <h5>{{ pet.name }}</h5>

                    <div class="info-row">
                        <div class="info-label">Type :</div>
                        <div class="info-value">{{ pet.type }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Category :</div>
                        <div class="info-value">{{ pet.category }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Location :</div>
                        <div class="info-value">{{ pet.location }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Age :</div>
                        <div class="info-value">{{ pet.age }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Description :</div>
                        <div class="info-value">{{ pet.description }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Contact :</div>
                        <div class="info-value">{{ pet.contact }}</div>
                    </div>

                    <div class="info-row">
                        <div class="info-label">Status :</div>
                        <div class="info-value">
                            {% if pet.status == "Adopted" %}
                                <span class="text-danger fw-bold">Adopted</span>
                            {% else %}
                                <span class="text-success fw-bold">Available</span>
                            {% endif %}
                        </div>
                    </div>

                    {% if pet.status == "Adopted" %}
                    <div class="text-center mt-3">
                        <button class="btn btn-sm btn-primary" type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#adopter-{{ pet.id }}">
                            View Adopter Info
                        </button>
                    </div>

                    <div class="collapse mt-2" id="adopter-{{ pet.id }}">
                        <div class="card card-body" style="background:#f1f5fb;">
                            <p><strong>Name:</strong> {{ pet.adopter_name }}</p>
                            <p><strong>Phone:</strong> {{ pet.adopter_phone }}</p>
                            <p><strong>Address:</strong> {{ pet.adopter_address }}</p>
                        </div>
                    </div>
                    {% endif %}

                </div>
            </div>
        {% empty %}
            <p>No pets listed yet.</p>
        {% endfor %}
        </div>

        <div class="footer">Â© 2025 PetCare</div>

    </div>
</div>

<!-- Overlay -->
<div class="overlay" onclick="toggleSidebar()"></div>

<script>
function toggleSidebar(){
    document.querySelector(".sidebar").classList.toggle("active");
    document.querySelector(".overlay").classList.toggle("active");
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
